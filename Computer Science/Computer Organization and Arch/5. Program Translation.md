Suppose we have an instruction 0x00578833
- Decoding this into assembly language instruction is called "disassembly"

# Decoding Machine Code
## Step
1. Convert hex instruction into binary
	- 0x00578833 $\to$ 0000 0000 0101 0111 1000 1000 0011 
2. Figure out the opcode and instruction format
	- (rightmost 7 bits) : 0110011
	- It is R-type
3. Using funct7 and funct3, we can know which instruction it is
	- Since both funct7 and funct3 are 0, it is `add`
4. Identify registers

Decoded instruction: `add x16, x15, x5`

### Example) 
Decode 0xfdc42703
	$\to$ 1111 1101 1100 0100 0010 0111 0000 0011
	$\to$ lw x4, 2012(x8)

However, 2012 seems too big
- It is in fact, signed number in two's complement
	- Negative signed integer
	- Thus, we need to decode it
	- Substract 1 and flip 0,1

1111 1101 1100 - 1 = 1111 1101 1011

$\to$ 0000 0010 0100 = -36

Decoded instruction: `lw x14 -36(x8)`

# Overview

# Compiler
Translate high-level language to assembly language
- Scanning pahse to identify tokens
- Parsing to build syntax tree
- Semantic Analysis
	- Check language rule
	- Type checking
	- Variable declaration
	- Build symbol table
- Generate Intermediate Representation
	- Like generic assembly language
	- Looks like assembly language, but does not based on specific ISA
	- a.k.a Register Transfer Language
- Optimization
- Register Allocation
- Generate ISA-specific machine code

# Assembler
Takes assembly code, and outputs machine code
- Translate pseudoinstruction to actual instruction
- Convert far branches into branch+jump
- Large constant $\to$ multiple instruction
- Symbol table for branch lables

## Producing Object Module
Assembler (or compiler) translate program into machine instruction
- Provides information for building a complete program from the pieces

# Linker
Links together multiple object files
- User code
- Application libraries
- System libraries

Uses relocation table and symbol table

## Steps
1. Examine all code and data modules
2. Get addresses of all data and instruction labels
3. "Patch" all references to eliminate conflicts
4. Resolve external references
5. Pack everything together as an executable file

## Linking Object Modules
Produces an executable image
- Merges segments
- Resolve labels
- Patch location-dependent and external references

Could leave location dependentcies for fixing by a relocating loader
- But with virtual memory, no need to do this
- Program can be ...

# Loader
Load from image file on disk into memory
