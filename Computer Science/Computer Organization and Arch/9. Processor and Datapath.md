# Instruction Execution
1. Send the program counter (PC) to the memory that contains the code and fetch the instruction from that memory. 
2. Read one or two registers, using fields of the instruction to select the registers to read.
3. Depending on instruction class(type)
	- Use ALU to calculate
		- Arithmetic
		- Memory address for load/store
		- Branch comparison
	- Store result in register
	- Access data memory for load/store
	- PC $\leftarrow$ (target address or PC) +4
4. Repeat

# Overall Datapath
![[Pasted image 20250316180121.png]]

## Multiplexor: Data selection
Sometime, data is going to a particular unit from two different source, and we need to select one.
- e.g. depending on `add` or `addi`, the second data comes from register or immediate field of instruction
- These data lines cannot simply be wired together; we must add a logic element that chooses from among the multiple sources and steers one of those sources to its destination

**Multiplexor**
- It selects from among several inputs based on the setting of its control lines. 
- The control lines are set based primarily on information taken from the instruction being executed
- $2^{n}$ data inputs + $n$ control inputs = $1$ data output
	- Each AND gate is enabled by a different combination of inputs

![[Pasted image 20250316181505.png|300]]

## Combinational Elements
AND-gate
- $Y=A\,\&\,B$
![[Pasted image 20250316181130.png|150]]

Adder
- $Y=A+B$
![[Pasted image 20250316181218.png|150]]

Multiplexer
- If $S$, then return $|1$, else $|0$
![[Pasted image 20250316181301.png|150]]

ALU
- Contains logical gates, such as
- $Y=F(A,B)$ where $F=\{ \text{ADD, SUB, AND, ORR} \}$
![[Pasted image 20250316181411.png|150]]

A control unit, which has the instruction as an input, is used to determine how to set the control lines for the functional units and two of the multiplexors

# Clocking Methodology
Each signal is either asserted or deasserted
- Asserted: When signal is high(1)
- Deasserted: When signal is low(0)

Clocking methodology defines when signals can be read and when they can be written
- We use Edge-triggered methodology: Updating happens when clock changes from 0 to 1
![[Pasted image 20250316191521.png|250]]



